---
image:
  repository: ghcr.io/linuxserver/hedgedoc
  pullPolicy: IfNotPresent
  tag: "version-1.9.0"

secret:
  DB_PASS: "foobar1337"

# See more environment variables in the hedgedoc documentation
# https://github.com/linuxserver/docker-hedgedoc#parameters
env:
  TZ: Etc/UTC
  PUID: "1000"
  PGID: "1000"
  DB_USER: "hedgedoc"
  DB_HOST: "mariadb"
  DB_NAME: "hedgedoc"
  DB_PORT: "3306"

service:
  port:
    port: 3000

ingress:
  enabled: true
  annotations:
    "cert-manager.io/cluster-issuer": "letsencrypt-prod"
    "kubernetes.io/ingress.class": nginx
  hosts:
    - host: "md.cedi.dev"
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
    - secretName: hedgedoc-secret-tls
      hosts:
        - md.cedi.dev

persistence:
  config:
    enabled: true
    emptyDir: false
    mountPath: /config

# Enable mariadb
# https://github.com/nicholaswilde/helm-charts/blob/main/charts/mariadb/values.yaml
mariadb:
  enabled: true

  secret:
    MYSQL_ROOT_PASSWORD: foobar2342
    MYSQL_PASSWORD: foobar1337

  env:
    TZ: Etc/UTC
    MYSQL_USER: hedgedoc
    MYSQL_DATABASE: hedgedoc

  persistence:
    config:
      enabled: true
