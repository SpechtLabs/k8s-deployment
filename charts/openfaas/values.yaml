openfaas:
  kubernetesDNSDomain: cluster.local
  functionNamespace: openfaas
  clusterRole: true

  # disable basic auth, as we do OIDC login via GitHub using the OAuth2 Proxy in the Ingress
  generateBasicAuth: false
  basic_auth: false

  operator:
    create: true

  dashboard:
    publicURL: https://openfaas.cedi.dev

  ingress:
    enabled: true
    pathType: ImplementationSpecific

    # Used to create Ingress record (should be used with exposeServices: false).
    hosts:
      - host: openfaas.cedi.dev  # Replace with gateway.example.com if public-facing
        serviceName: gateway
        servicePort: 8080
        path: /
    annotations:
      kubernetes.io/ingress.class: nginx
      cert-manager.io/cluster-issuer: letsencrypt-prod
      nginx.ingress.kubernetes.io/auth-signin: https://auth-openfaas.cedi.dev/oauth2/start
      nginx.ingress.kubernetes.io/auth-url: http://oauth2-proxy.oauth2-proxy-openfaas.svc.cluster.local/oauth2/auth
    tls:
      - secretName: openfaas-tls
        hosts:
          - openfaas.cedi.dev

  nats:
    enableMonitoring: true
    metrics:
      enabled: true

  gateway:
    replicas: 2

  queueWorker:
    replicas: 2

  prometheus:
    create: false

  alertmanager:
    create: false